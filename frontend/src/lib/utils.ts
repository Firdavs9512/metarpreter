import { type ClassValue, clsx } from "clsx";
import { twMerge } from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

export function validateIPv6(ip: string) {
  const ipv6Pattern =
    /^((?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?:[a-fA-F0-9]{1,4}:){1,7}:|(?:[a-fA-F0-9]{1,4}:){1,6}:[a-fA-F0-9]{1,4}|(?:[a-fA-F0-9]{1,4}:){1,5}(?::[a-fA-F0-9]{1,4}){1,2}|(?:[a-fA-F0-9]{1,4}:){1,4}(?::[a-fA-F0-9]{1,4}){1,3}|(?:[a-fA-F0-9]{1,4}:){1,3}(?::[a-fA-F0-9]{1,4}){1,4}|(?:[a-fA-F0-9]{1,4}:){1,2}(?::[a-fA-F0-9]{1,4}){1,5}|[a-fA-F0-9]{1,4}:(?:(?::[a-fA-F0-9]{1,4}){1,6})|:(?:(?::[a-fA-F0-9]{1,4}){1,7}|:)|fe80:(?::[a-fA-F0-9]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(?:ffff(?::0{1,4}){0,1}:){0,1}((?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))|(?:[a-fA-F0-9]{1,4}:){1,4}:(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.(?:25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;

  return ipv6Pattern.test(ip);
}

export function validateIPv4(ip: string) {
  const ipv4Pattern =
    /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;

  return ipv4Pattern.test(ip);
}
